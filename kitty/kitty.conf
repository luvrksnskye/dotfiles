# ╔════════════════════════════════════════════════════════════════════════════╗
# ║                            KITTY CONFIG                                    ║
# ║                         Skye Edition — Optimized                           ║
# ╚════════════════════════════════════════════════════════════════════════════╝

# ──────────────────────────────────────────────────────────────────────────────
# Performance
# ──────────────────────────────────────────────────────────────────────────────
repaint_delay    10
input_delay      3
sync_to_monitor  yes

# ──────────────────────────────────────────────────────────────────────────────
# Font
# ──────────────────────────────────────────────────────────────────────────────
font_family      JetBrainsMono Nerd Font
bold_font        JetBrainsMono Nerd Font Bold
italic_font      JetBrainsMono Nerd Font Italic
bold_italic_font JetBrainsMono Nerd Font Bold Italic
font_size        18

# Ajuste fino de renderizado de fuentes
adjust_line_height  110%
adjust_column_width 0
disable_ligatures   never

# Símbolos Nerd Font (para iconos perfectos)
symbol_map U+e000-U+e00a,U+ea60-U+ebeb,U+e0a0-U+e0c8,U+e0ca,U+e0cc-U+e0d7,U+e200-U+e2a9,U+e300-U+e3e3,U+e5fa-U+e6b1,U+e700-U+e7c5,U+ed00-U+efc1,U+f000-U+f2ff,U+f000-U+f2e0,U+f300-U+f372,U+f400-U+f533,U+f0001-U+f1af0 JetBrainsMono Nerd Font

# ──────────────────────────────────────────────────────────────────────────────
# Cursor
# ──────────────────────────────────────────────────────────────────────────────
cursor                  #cba6f7
cursor_text_color       #1e1e2e
cursor_shape            beam
cursor_beam_thickness   1.8
cursor_blink_interval   0
cursor_stop_blinking_after 0

# ──────────────────────────────────────────────────────────────────────────────
# Scrollback
# ──────────────────────────────────────────────────────────────────────────────
scrollback_lines            10000
scrollback_pager            less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER
scrollback_pager_history_size 4
wheel_scroll_multiplier     5.0
wheel_scroll_min_lines      1
touch_scroll_multiplier     1.0

# ──────────────────────────────────────────────────────────────────────────────
# Mouse
# ──────────────────────────────────────────────────────────────────────────────
mouse_hide_wait            2.0
url_color                  #89b4fa
url_style                  curly
open_url_with              default
url_prefixes               file ftp ftps gemini git gopher http https irc ircs kitty mailto news sftp ssh
detect_urls                yes
show_hyperlink_targets     yes
copy_on_select             clipboard
paste_actions              quote-urls-at-prompt
strip_trailing_spaces      smart
select_by_word_characters  @-./_~?&=%+#

# Click para abrir URLs
mouse_map left click ungrabbed mouse_handle_click selection link prompt
mouse_map ctrl+left click ungrabbed mouse_handle_click link
mouse_map ctrl+left press ungrabbed mouse_selection normal
mouse_map right press ungrabbed paste_from_clipboard

# ──────────────────────────────────────────────────────────────────────────────
# Window
# ──────────────────────────────────────────────────────────────────────────────
remember_window_size       yes
initial_window_width       140c
initial_window_height      40c
window_padding_width       12 14
window_margin_width        0
single_window_margin_width -1
placement_strategy         center
hide_window_decorations    yes
confirm_os_window_close    0
resize_debounce_time       0.1
resize_in_steps            no

# Bordes de ventana
active_border_color        #cba6f7
inactive_border_color      #313244
bell_border_color          #f9e2af
window_border_width        1.5pt

# ──────────────────────────────────────────────────────────────────────────────
# Tabs
# ──────────────────────────────────────────────────────────────────────────────
tab_bar_edge               bottom
tab_bar_style              powerline
tab_powerline_style        slanted
tab_bar_align              left
tab_bar_min_tabs           2
tab_switch_strategy        previous
tab_activity_symbol        󰗖 
tab_title_max_length       25
tab_title_template         "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{index}:{title}"
active_tab_title_template  "{fmt.fg._cba6f7}{fmt.bold}󰄛 {title}{fmt.nobold}"

active_tab_foreground      #1e1e2e
active_tab_background      #cba6f7
active_tab_font_style      bold
inactive_tab_foreground    #cdd6f4
inactive_tab_background    #313244
inactive_tab_font_style    normal
tab_bar_background         #181825
tab_bar_margin_color       #181825

# ──────────────────────────────────────────────────────────────────────────────
# Transparency & Background
# ──────────────────────────────────────────────────────────────────────────────
background_opacity         0.88
dynamic_background_opacity yes
dim_opacity                0.75

# macOS specific blur (si usas macOS)
# macos_titlebar_color       background
# macos_option_as_alt        yes

# ──────────────────────────────────────────────────────────────────────────────
# Colors — Catppuccin Mocha (Enhanced)
# ──────────────────────────────────────────────────────────────────────────────
foreground              #cdd6f4
background              #1e1e2e
selection_foreground    #1e1e2e
selection_background    #f5e0dc

# Marks
mark1_foreground #1e1e2e
mark1_background #89b4fa
mark2_foreground #1e1e2e
mark2_background #cba6f7
mark3_foreground #1e1e2e
mark3_background #a6e3a1

# Normal colors
color0  #45475a
color1  #f38ba8
color2  #a6e3a1
color3  #f9e2af
color4  #89b4fa
color5  #f5c2e7
color6  #94e2d5
color7  #bac2de

# Bright colors
color8  #585b70
color9  #f38ba8
color10 #a6e3a1
color11 #f9e2af
color12 #89b4fa
color13 #f5c2e7
color14 #94e2d5
color15 #a6adc8

# Extended colors (para apps que los usan)
color16 #fab387
color17 #f5e0dc

# ──────────────────────────────────────────────────────────────────────────────
# Bell
# ──────────────────────────────────────────────────────────────────────────────
enable_audio_bell       no
visual_bell_duration    0.0
visual_bell_color       none
window_alert_on_bell    yes
bell_on_tab             "󰂞 "

# ──────────────────────────────────────────────────────────────────────────────
# Shell Integration
# ──────────────────────────────────────────────────────────────────────────────
shell_integration        enabled
allow_hyperlinks         yes
term                     xterm-kitty

# ──────────────────────────────────────────────────────────────────────────────
# Advanced
# ──────────────────────────────────────────────────────────────────────────────
editor                   nvim
close_on_child_death     no
allow_remote_control     socket-only
listen_on                unix:/tmp/kitty
update_check_interval    0
clipboard_control        write-clipboard write-primary read-clipboard-ask read-primary-ask
clipboard_max_size       512

# ──────────────────────────────────────────────────────────────────────────────
# Keyboard Shortcuts
# ──────────────────────────────────────────────────────────────────────────────
clear_all_shortcuts      no
kitty_mod                ctrl+shift

# Clipboard
map kitty_mod+c          copy_to_clipboard
map kitty_mod+v          paste_from_clipboard
map kitty_mod+s          paste_from_selection
map shift+insert         paste_from_selection

# Font size
map kitty_mod+equal      change_font_size all +1.0
map kitty_mod+minus      change_font_size all -1.0
map kitty_mod+backspace  change_font_size all 0

# Window management
map kitty_mod+enter      new_window_with_cwd
map kitty_mod+n          new_os_window_with_cwd
map kitty_mod+w          close_window
map kitty_mod+]          next_window
map kitty_mod+[          previous_window
map kitty_mod+f          move_window_forward
map kitty_mod+b          move_window_backward
map kitty_mod+r          start_resizing_window
map kitty_mod+1          first_window
map kitty_mod+2          second_window
map kitty_mod+3          third_window

# Tab management
map kitty_mod+t          new_tab_with_cwd
map kitty_mod+q          close_tab
map kitty_mod+right      next_tab
map kitty_mod+left       previous_tab
map kitty_mod+.          move_tab_forward
map kitty_mod+,          move_tab_backward
map kitty_mod+alt+t      set_tab_title
map ctrl+tab             next_tab
map ctrl+shift+tab       previous_tab

# Jump to tab
map kitty_mod+alt+1      goto_tab 1
map kitty_mod+alt+2      goto_tab 2
map kitty_mod+alt+3      goto_tab 3
map kitty_mod+alt+4      goto_tab 4
map kitty_mod+alt+5      goto_tab 5

# Layout management
map kitty_mod+l          next_layout
map kitty_mod+z          toggle_layout stack

# Scrolling
map kitty_mod+up         scroll_line_up
map kitty_mod+down       scroll_line_down
map kitty_mod+page_up    scroll_page_up
map kitty_mod+page_down  scroll_page_down
map kitty_mod+home       scroll_home
map kitty_mod+end        scroll_end
map kitty_mod+h          show_scrollback

# Opacity control
map kitty_mod+a>m        set_background_opacity +0.05
map kitty_mod+a>l        set_background_opacity -0.05
map kitty_mod+a>1        set_background_opacity 1
map kitty_mod+a>d        set_background_opacity default

# Hints (super útil)
map kitty_mod+e          open_url_with_hints
map kitty_mod+p>f        kitten hints --type path --program -
map kitty_mod+p>l        kitten hints --type line --program -
map kitty_mod+p>w        kitten hints --type word --program -
map kitty_mod+p>h        kitten hints --type hash --program -
map kitty_mod+p>n        kitten hints --type linenum --program -

# Misc
map kitty_mod+f11        toggle_fullscreen
map kitty_mod+f10        toggle_maximized
map kitty_mod+u          kitten unicode_input
map kitty_mod+f2         edit_config_file
map kitty_mod+escape     kitty_shell window
map kitty_mod+delete     clear_terminal scrollback active
map kitty_mod+f5         load_config_file

# Broadcast (escribir en todas las ventanas)
map kitty_mod+alt+b      launch --allow-remote-control kitty +kitten broadcast

# ──────────────────────────────────────────────────────────────────────────────
# Layouts
# ──────────────────────────────────────────────────────────────────────────────
enabled_layouts splits:split_axis=horizontal,fat:bias=50;full_size=1,tall:bias=50;full_size=1,grid,horizontal,vertical,stack

# Split shortcuts
map kitty_mod+\          launch --location=vsplit --cwd=current
map kitty_mod+-          launch --location=hsplit --cwd=current

# Navigate splits
map alt+left             neighboring_window left
map alt+right            neighboring_window right
map alt+up               neighboring_window up
map alt+down             neighboring_window down

# Resize splits
map ctrl+alt+left        resize_window narrower 3
map ctrl+alt+right       resize_window wider 3
map ctrl+alt+up          resize_window taller 3
map ctrl+alt+down        resize_window shorter 3

# ──────────────────────────────────────────────────────────────────────────────
# Session
# ──────────────────────────────────────────────────────────────────────────────
# startup_session ~/.config/kitty/session.conf

# ──────────────────────────────────────────────────────────────────────────────
# Include local overrides (si quieres configs específicas por máquina)
# ──────────────────────────────────────────────────────────────────────────────
# include local.conf

# vim:fileencoding=utf-8:foldmethod=marker:foldlevel=0
