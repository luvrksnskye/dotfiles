# ╔════════════════════════════════════════════════════════════════════════════╗
# ║                                                                            ║
# ║   ███████╗██╗  ██╗██╗  ██╗██████╗                                         ║
# ║   ██╔════╝██║ ██╔╝██║  ██║██╔══██╗                                        ║
# ║   ███████╗█████╔╝ ███████║██║  ██║                                        ║
# ║   ╚════██║██╔═██╗ ██╔══██║██║  ██║                                        ║
# ║   ███████║██║  ██╗██║  ██║██████╔╝                                        ║
# ║   ╚══════╝╚═╝  ╚═╝╚═╝  ╚═╝╚═════╝                                         ║
# ║                                                                            ║
# ║                          Skye Edition                                      ║
# ║                   Hotkey Daemon for Yabai                                  ║
# ║                                                                            ║
# ╚════════════════════════════════════════════════════════════════════════════╝
# ╔════════════════════════════════════════════════════════════════════════════╗
# ║                          Skye Edition                                      ║
# ║                   Hotkey Daemon for Yabai                                  ║
# ╚════════════════════════════════════════════════════════════════════════════╝

# NOTE:
# - skhdrc does NOT support variable assignment like YABAI="..." :contentReference[oaicite:4]{index=4}
# - For symbol keys, use keycodes (skhd -o) :contentReference[oaicite:5]{index=5}

# Paths (Intel Homebrew usually uses /usr/local/bin)
# If yours differs, change both lines below.
# (We keep paths inline in every command for launchd/PATH safety.)

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                       QUICK CLOSE (Esc)                                    │
# └────────────────────────────────────────────────────────────────────────────┘
escape : /usr/local/bin/yabai -m window --close
alt - escape : /usr/local/bin/yabai -m window --close

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                         WINDOW FOCUS                                       │
# │                    Alt + H/J/K/L or Arrows                                 │
# └────────────────────────────────────────────────────────────────────────────┘
alt - h : /usr/local/bin/yabai -m window --focus west  || /usr/local/bin/yabai -m display --focus west
alt - j : /usr/local/bin/yabai -m window --focus south || /usr/local/bin/yabai -m display --focus south
alt - k : /usr/local/bin/yabai -m window --focus north || /usr/local/bin/yabai -m display --focus north
alt - l : /usr/local/bin/yabai -m window --focus east  || /usr/local/bin/yabai -m display --focus east

alt - left  : /usr/local/bin/yabai -m window --focus west  || /usr/local/bin/yabai -m display --focus west
alt - down  : /usr/local/bin/yabai -m window --focus south || /usr/local/bin/yabai -m display --focus south
alt - up    : /usr/local/bin/yabai -m window --focus north || /usr/local/bin/yabai -m display --focus north
alt - right : /usr/local/bin/yabai -m window --focus east  || /usr/local/bin/yabai -m display --focus east

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                         WINDOW SWAP                                        │
# │                 Alt + Shift + H/J/K/L or Arrows                            │
# └────────────────────────────────────────────────────────────────────────────┘
shift + alt - h : /usr/local/bin/yabai -m window --swap west  || /usr/local/bin/yabai -m window --display west --focus
shift + alt - j : /usr/local/bin/yabai -m window --swap south || /usr/local/bin/yabai -m window --display south --focus
shift + alt - k : /usr/local/bin/yabai -m window --swap north || /usr/local/bin/yabai -m window --display north --focus
shift + alt - l : /usr/local/bin/yabai -m window --swap east  || /usr/local/bin/yabai -m window --display east --focus

shift + alt - left  : /usr/local/bin/yabai -m window --swap west  || /usr/local/bin/yabai -m window --display west --focus
shift + alt - down  : /usr/local/bin/yabai -m window --swap south || /usr/local/bin/yabai -m window --display south --focus
shift + alt - up    : /usr/local/bin/yabai -m window --swap north || /usr/local/bin/yabai -m window --display north --focus
shift + alt - right : /usr/local/bin/yabai -m window --swap east  || /usr/local/bin/yabai -m window --display east --focus

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                     WARP / INSERT WINDOWS                                  │
# └────────────────────────────────────────────────────────────────────────────┘
ctrl + alt - h : /usr/local/bin/yabai -m window --warp west
ctrl + alt - j : /usr/local/bin/yabai -m window --warp south
ctrl + alt - k : /usr/local/bin/yabai -m window --warp north
ctrl + alt - l : /usr/local/bin/yabai -m window --warp east

ctrl + shift + alt - k : /usr/local/bin/yabai -m window --insert north && /usr/local/bin/skhd -k "cmd - n"
ctrl + shift + alt - j : /usr/local/bin/yabai -m window --insert south && /usr/local/bin/skhd -k "cmd - n"
ctrl + shift + alt - h : /usr/local/bin/yabai -m window --insert west  && /usr/local/bin/skhd -k "cmd - n"
ctrl + shift + alt - l : /usr/local/bin/yabai -m window --insert east  && /usr/local/bin/skhd -k "cmd - n"

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                          WORKSPACES                                        │
# └────────────────────────────────────────────────────────────────────────────┘
alt - 1 : /usr/local/bin/yabai -m space --focus 1
alt - 2 : /usr/local/bin/yabai -m space --focus 2
alt - 3 : /usr/local/bin/yabai -m space --focus 3
alt - 4 : /usr/local/bin/yabai -m space --focus 4

shift + alt - 1 : /usr/local/bin/yabai -m window --space 1 --focus
shift + alt - 2 : /usr/local/bin/yabai -m window --space 2 --focus
shift + alt - 3 : /usr/local/bin/yabai -m window --space 3 --focus
shift + alt - 4 : /usr/local/bin/yabai -m window --space 4 --focus

alt - tab : /usr/local/bin/yabai -m space --focus recent
alt - p   : /usr/local/bin/yabai -m space --focus prev || /usr/local/bin/yabai -m space --focus last
alt - n   : /usr/local/bin/yabai -m space --focus next || /usr/local/bin/yabai -m space --focus first

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                            LAYOUT                                          │
# └────────────────────────────────────────────────────────────────────────────┘
# slash "/" = 0x2C (common US/ANSI). verify with: skhd -o :contentReference[oaicite:6]{index=6}
alt - 0x2C : /usr/local/bin/yabai -m window --toggle split

alt - f     : /usr/local/bin/yabai -m window --toggle float --grid 4:4:1:1:2:2
shift + alt - f : /usr/local/bin/yabai -m window --toggle zoom-fullscreen
ctrl + alt - f  : /usr/local/bin/yabai -m window --toggle native-fullscreen

alt - s : /usr/local/bin/yabai -m window --toggle sticky
alt - 0 : /usr/local/bin/yabai -m space  --balance

alt - r : /usr/local/bin/yabai -m space --rotate 90
alt - x : /usr/local/bin/yabai -m space --mirror x-axis
alt - y : /usr/local/bin/yabai -m space --mirror y-axis

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                            RESIZE                                          │
# └────────────────────────────────────────────────────────────────────────────┘
# "=" = 0x18, "-" = 0x1B (common US/ANSI). verify with skhd -o :contentReference[oaicite:7]{index=7}
shift + alt - 0x18 : /usr/local/bin/yabai -m window --resize right:50:0  || /usr/local/bin/yabai -m window --resize left:-50:0
shift + alt - 0x1B : /usr/local/bin/yabai -m window --resize right:-50:0 || /usr/local/bin/yabai -m window --resize left:50:0

ctrl + alt - left  : /usr/local/bin/yabai -m window --resize left:-50:0   || /usr/local/bin/yabai -m window --resize right:-50:0
ctrl + alt - right : /usr/local/bin/yabai -m window --resize right:50:0   || /usr/local/bin/yabai -m window --resize left:50:0
ctrl + alt - up    : /usr/local/bin/yabai -m window --resize top:0:-50    || /usr/local/bin/yabai -m window --resize bottom:0:-50
ctrl + alt - down  : /usr/local/bin/yabai -m window --resize bottom:0:50  || /usr/local/bin/yabai -m window --resize top:0:50

shift + ctrl + alt - left  : /usr/local/bin/yabai -m window --resize left:-20:0   || /usr/local/bin/yabai -m window --resize right:-20:0
shift + ctrl + alt - right : /usr/local/bin/yabai -m window --resize right:20:0   || /usr/local/bin/yabai -m window --resize left:20:0
shift + ctrl + alt - up    : /usr/local/bin/yabai -m window --resize top:0:-20    || /usr/local/bin/yabai -m window --resize bottom:0:-20
shift + ctrl + alt - down  : /usr/local/bin/yabai -m window --resize bottom:0:20  || /usr/local/bin/yabai -m window --resize top:0:20

# Window ratio (moved to avoid conflict with alt-1/2/3 spaces)
cmd + alt - 1 : /usr/local/bin/yabai -m window --ratio abs:0.3
cmd + alt - 2 : /usr/local/bin/yabai -m window --ratio abs:0.5
cmd + alt - 3 : /usr/local/bin/yabai -m window --ratio abs:0.7

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                          MINIMIZE                                          │
# └────────────────────────────────────────────────────────────────────────────┘
alt - w : /usr/local/bin/yabai -m window --minimize

shift + alt - w : /usr/local/bin/yabai -m query --windows --space \
  | /usr/local/bin/jq -r '.[] | select(.["has-focus"] == false) | .id' \
  | /usr/bin/xargs -I {} /usr/local/bin/yabai -m window {} --minimize

ctrl + alt - w : /usr/local/bin/yabai -m query --windows \
  | /usr/local/bin/jq -r 'map(select(.["is-minimized"] == true)) | sort_by(.id) | last | .id' \
  | /usr/bin/xargs -I {} /usr/local/bin/yabai -m window {} --deminimize

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                         WINDOW STACK                                       │
# └────────────────────────────────────────────────────────────────────────────┘
# "," = 0x2B, "." = 0x2F, "[" = 0x21, "]" = 0x1E (common US/ANSI). verify with skhd -o :contentReference[oaicite:8]{index=8}
alt - 0x2B : /usr/local/bin/yabai -m window --stack prev
alt - 0x2F : /usr/local/bin/yabai -m window --stack next

alt - 0x21 : /usr/local/bin/yabai -m window --focus stack.prev || /usr/local/bin/yabai -m window --focus stack.last
alt - 0x1E : /usr/local/bin/yabai -m window --focus stack.next || /usr/local/bin/yabai -m window --focus stack.first

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                          DISPLAYS                                          │
# └────────────────────────────────────────────────────────────────────────────┘
ctrl + alt - 1 : /usr/local/bin/yabai -m display --focus 1
ctrl + alt - 2 : /usr/local/bin/yabai -m display --focus 2
ctrl + alt - 3 : /usr/local/bin/yabai -m display --focus 3

shift + ctrl + alt - 1 : /usr/local/bin/yabai -m window --display 1 --focus
shift + ctrl + alt - 2 : /usr/local/bin/yabai -m window --display 2 --focus
shift + ctrl + alt - 3 : /usr/local/bin/yabai -m window --display 3 --focus

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                        APP LAUNCHING                                       │
# └────────────────────────────────────────────────────────────────────────────┘
shift + alt - t : /usr/bin/open -na /Applications/Ghostty.app
shift + alt - b : /usr/bin/open -na "/Applications/Brave Browser.app"
shift + alt - z : /usr/bin/open -na "/Applications/Zen Browser.app"
shift + alt - o : /usr/bin/open -na /Applications/Obsidian.app
shift + alt - d : /usr/bin/open -na /Applications/Discord.app
shift + alt - c : /usr/bin/open -na /Applications/Claude.app
shift + alt - v : /usr/bin/open -na "/Applications/Visual Studio Code.app"
shift + alt - m : /usr/bin/open -na /Applications/Spotify.app
shift + alt - n : /usr/bin/open -na /Applications/Notes.app
shift + alt - a : /usr/bin/open -na /Applications/Music.app

shift + alt - e : /usr/local/bin/yabai -m window --focus $(/usr/local/bin/yabai -m query --windows | /usr/local/bin/jq -r 'map(select(.app == "Finder")) | .[0].id') \
  || /usr/bin/open -a Finder

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                          SERVICE                                           │
# └────────────────────────────────────────────────────────────────────────────┘
ctrl + alt - r : /usr/local/bin/yabai --restart-service
ctrl + alt - s : /usr/local/bin/skhd -r
alt - q        : /usr/local/bin/yabai -m window --close

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                        LAYOUT PRESETS                                      │
# └────────────────────────────────────────────────────────────────────────────┘
alt - b : /usr/local/bin/yabai -m space --layout bsp
alt - g : /usr/local/bin/yabai -m space --layout stack
alt - t : /usr/local/bin/yabai -m space --layout float

# ┌────────────────────────────────────────────────────────────────────────────┐
# │                          GREETING                                          │
# └────────────────────────────────────────────────────────────────────────────┘
ctrl + alt - g : /bin/sh ~/.config/luvrksnskye/greeting.sh
